diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-sharp-2.20.1/art/art-sharp.dll.config.in src/gnome-sharp-2.20.1/art/art-sharp.dll.config.in
--- origsrc/gnome-sharp-2.20.1/art/art-sharp.dll.config.in	2008-03-06 20:32:15.000000000 -0600
+++ src/gnome-sharp-2.20.1/art/art-sharp.dll.config.in	2008-04-22 21:03:56.296875000 -0500
@@ -1,3 +1,3 @@
 <configuration>
-  <dllmap dll="art_lgpl" target="libart_lgpl_2@LIB_PREFIX@.2@LIB_SUFFIX@"/>
+  <dllmap dll="art_lgpl" target="@LIB_PREFIX@art_lgpl_2@LIB_SONAME@2@LIB_SUFFIX@"/>
 </configuration>
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-sharp-2.20.1/configure.in src/gnome-sharp-2.20.1/configure.in
--- origsrc/gnome-sharp-2.20.1/configure.in	2008-04-21 14:44:34.000000000 -0500
+++ src/gnome-sharp-2.20.1/configure.in	2008-04-22 21:03:56.312500000 -0500
@@ -14,7 +14,7 @@
 AC_SUBST(PACKAGE_VERSION)
 
 case "$host" in
-	*-*-mingw*|*-*-cygwin*)
+	*-*-mingw*)
 		platform_win32=yes
 		AC_DEFINE(PLATFORM_WIN32,1,[Platform is Win32])
 		CC="gcc -mno-cygwin -g"
@@ -111,13 +111,23 @@
 fi
 
 AC_PATH_PROG(CSC, mcs, no)
-if test `uname -s` = "Darwin"; then
-	LIB_PREFIX=
+case `uname -s` in
+  Darwin)
+	LIB_PREFIX=lib
+	LIB_SONAME=.
 	LIB_SUFFIX=.dylib
-else
-	LIB_PREFIX=.so
+	;;
+  CYGWIN*)
+	LIB_PREFIX=cyg
+	LIB_SONAME=-
+	LIB_SUFFIX=.dll
+	;;
+  *)
+	LIB_PREFIX=lib
+	LIB_SONAME=.so.
 	LIB_SUFFIX=
-fi
+	;;
+esac
 else
 AC_PATH_PROG(CSC, csc.exe, no)
 GACUTIL_FLAGS=
@@ -143,6 +153,7 @@
 AC_SUBST(GACUTIL)
 AC_SUBST(GACUTIL_FLAGS)
 AC_SUBST(LIB_PREFIX)
+AC_SUBST(LIB_SONAME)
 AC_SUBST(LIB_SUFFIX)
 AC_SUBST(GENERATED_SOURCES)
 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-sharp-2.20.1/gconf/GConf/gconf-sharp.dll.config.in src/gnome-sharp-2.20.1/gconf/GConf/gconf-sharp.dll.config.in
--- origsrc/gnome-sharp-2.20.1/gconf/GConf/gconf-sharp.dll.config.in	2008-03-06 20:32:18.000000000 -0600
+++ src/gnome-sharp-2.20.1/gconf/GConf/gconf-sharp.dll.config.in	2008-04-22 21:03:56.328125000 -0500
@@ -1,3 +1,3 @@
 <configuration>
-  <dllmap dll="gconf-2" target="libgconf-2@LIB_PREFIX@.4@LIB_SUFFIX@"/>
+  <dllmap dll="gconf-2" target="@LIB_PREFIX@gconf-2@LIB_SONAME@4@LIB_SUFFIX@"/>
 </configuration>
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-sharp-2.20.1/gnome/glue/Makefile.am src/gnome-sharp-2.20.1/gnome/glue/Makefile.am
--- origsrc/gnome-sharp-2.20.1/gnome/glue/Makefile.am	2008-03-06 20:32:19.000000000 -0600
+++ src/gnome-sharp-2.20.1/gnome/glue/Makefile.am	2008-04-22 21:03:56.328125000 -0500
@@ -6,7 +6,7 @@
 TARGET = 
 endif
 
-libgnomesharpglue_2_la_LDFLAGS = -module -avoid-version -no-undefined
+libgnomesharpglue_2_la_LDFLAGS = -avoid-version -no-undefined
 
 libgnomesharpglue_2_la_SOURCES = 	\
 	canvasitem.c 		\
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-sharp-2.20.1/gnome/gnome-sharp.dll.config.in src/gnome-sharp-2.20.1/gnome/gnome-sharp.dll.config.in
--- origsrc/gnome-sharp-2.20.1/gnome/gnome-sharp.dll.config.in	2008-03-06 20:32:19.000000000 -0600
+++ src/gnome-sharp-2.20.1/gnome/gnome-sharp.dll.config.in	2008-04-22 21:03:56.328125000 -0500
@@ -1,11 +1,12 @@
 <configuration>
-  <dllmap dll="libglib-2.0-0.dll" target="libglib-2.0@LIB_PREFIX@.0@LIB_SUFFIX@"/>
-  <dllmap dll="libgobject-2.0-0.dll" target="libgobject-2.0@LIB_PREFIX@.0@LIB_SUFFIX@"/>
-  <dllmap dll="libgthread-2.0-0.dll" target="libgthread-2.0@LIB_PREFIX@.0@LIB_SUFFIX@"/>
-  <dllmap dll="libgtk-win32-2.0-0.dll" target="libgtk-x11-2.0@LIB_PREFIX@.0@LIB_SUFFIX@"/>
-  <dllmap dll="gnome-2" target="libgnome-2@LIB_PREFIX@.0@LIB_SUFFIX@"/>
-  <dllmap dll="gnomecanvas-2" target="libgnomecanvas-2@LIB_PREFIX@.0@LIB_SUFFIX@"/>
-  <dllmap dll="gnomeprint-2-2" target="libgnomeprint-2-2@LIB_PREFIX@.0@LIB_SUFFIX@"/>
-  <dllmap dll="gnomeprintui-2-2" target="libgnomeprintui-2-2@LIB_PREFIX@.0@LIB_SUFFIX@"/>
-  <dllmap dll="gnomeui-2" target="libgnomeui-2@LIB_PREFIX@.0@LIB_SUFFIX@"/>
+  <dllmap dll="libglib-2.0-0.dll" target="@LIB_PREFIX@glib-2.0@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="libgobject-2.0-0.dll" target="@LIB_PREFIX@gobject-2.0@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="libgthread-2.0-0.dll" target="@LIB_PREFIX@gthread-2.0@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="libgtk-win32-2.0-0.dll" target="@LIB_PREFIX@gtk-x11-2.0@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="gnome-2" target="@LIB_PREFIX@gnome-2@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="gnomecanvas-2" target="@LIB_PREFIX@gnomecanvas-2@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="gnomeprint-2-2" target="@LIB_PREFIX@gnomeprint-2-2@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="gnomeprintui-2-2" target="@LIB_PREFIX@gnomeprintui-2-2@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="gnomeui-2" target="@LIB_PREFIX@gnomeui-2@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="gnomesharpglue-2" target="@LIB_PREFIX@gnomesharpglue-2@LIB_SUFFIX@"/>
 </configuration>
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-sharp-2.20.1/gnomevfs/gnome-vfs-sharp.dll.config.in src/gnome-sharp-2.20.1/gnomevfs/gnome-vfs-sharp.dll.config.in
--- origsrc/gnome-sharp-2.20.1/gnomevfs/gnome-vfs-sharp.dll.config.in	2008-03-06 20:32:15.000000000 -0600
+++ src/gnome-sharp-2.20.1/gnomevfs/gnome-vfs-sharp.dll.config.in	2008-04-22 21:03:56.343750000 -0500
@@ -1,3 +1,3 @@
 <configuration>
-  <dllmap dll="gnomevfs-2" target="libgnomevfs-2@LIB_PREFIX@.0@LIB_SUFFIX@"/>
+  <dllmap dll="gnomevfs-2" target="@LIB_PREFIX@gnomevfs-2@LIB_SONAME@0@LIB_SUFFIX@"/>
 </configuration>
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-sharp-2.20.1/sample/GnomeHelloWorld.cs src/gnome-sharp-2.20.1/sample/GnomeHelloWorld.cs
--- origsrc/gnome-sharp-2.20.1/sample/GnomeHelloWorld.cs	2008-03-06 20:32:14.000000000 -0600
+++ src/gnome-sharp-2.20.1/sample/GnomeHelloWorld.cs	2008-04-22 21:03:56.359375000 -0500
@@ -145,7 +145,7 @@
 
 		// Wonder what the .NET func to do this is...and if it
 		// is implemented in mono yet.
-		[DllImport("glib-2.0")]
+		[DllImport("libglib-2.0-0.dll")]
 		static extern bool g_spawn_command_line_async (string command, IntPtr err);
 		
 		void icon_selected_cb (object obj, Gnome.IconSelectedArgs args)
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-sharp-2.20.1/sample/gconf/Makefile.am src/gnome-sharp-2.20.1/sample/gconf/Makefile.am
--- origsrc/gnome-sharp-2.20.1/sample/gconf/Makefile.am	2008-03-06 20:32:14.000000000 -0600
+++ src/gnome-sharp-2.20.1/sample/gconf/Makefile.am	2008-04-22 21:28:35.250000000 -0500
@@ -24,9 +24,6 @@
 Settings.cs: $(SCHEMA)
 	MONO_PATH=$(top_builddir)/gconf/GConf/gconf-sharp.dll:${MONO_PATH} $(RUNTIME) $(GCONFDIR)/tools/gconfsharp-schemagen.exe Sample $(SCHEMA) > Settings.cs
 
-install-data-hook: 
-	GCONF_CONFIG_SOURCE="" gconftool-2 --makefile-install-rule $(SCHEMA)
-
 CLEANFILES = sample.exe Settings.cs
 
 EXTRA_DIST = main.cs sample.schema sample.glade sample.gladep
